@*
    Atlas of Information Management business intelligence library and documentation database.
    Copyright (C) 2020  Riverside Healthcare, Kankakee, IL

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program.  If not, see <https://www.gnu.org/licenses/>.
*@

@page
@model Atlas_Web.Pages.Reports.IndexModel

@{ Layout = HttpContext.Request.Headers["x-requested-with"] == "XMLHttpRequest" ? "../Shared/_AjaxLayout.cshtml" : "../Shared/_Layout.cshtml";

                ViewData["Title"] = Model.Report.Name.Replace("_", " ");
                ViewData["Heading"] = "Report";

                var imgs = ViewBag.ReportImages.Count > 0;
                var parents = Model.ReportParents.Count() > 0;
                var children = Model.ReportChildren.Count() > 0;
                var groups = Model.Groups.Count() > 0;
                var query = (Model.ReportQuery.Count() + Model.ComponentQuery.Count()) > 0;
                var terms = Model.ViewerReportTerms.Count() > 0;
                var collections = Model.RelatedCollections.Count() > 0;
                var maintlog = Model.ReportMaintLogs.Count() > 0; }


@section Side_Links {
    @if (Model.Permissions.Contains(12))
    {<!-- edit -->
                    <a class="nav-link" id="open-editor" data-toggle="mdl" data-target="editModal" data-tooltip="Open Atlas Editor">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z" /></svg>
                    </a>}
    <a class="nav-link" data-toggle="mdl" data-target="profile-modal" data-tooltip="Open Report Profile">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M396.8 352h22.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-22.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-192 0h22.4c6.4 0 12.8-6.4 12.8-12.8V140.8c0-6.4-6.4-12.8-12.8-12.8h-22.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h22.4c6.4 0 12.8-6.4 12.8-12.8V204.8c0-6.4-6.4-12.8-12.8-12.8h-22.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zM496 400H48V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16zm-387.2-48h22.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-22.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8z" /></svg>
    </a>


    @if (Model.Report.CyrstalRunAttachments.Count() > 0)
    {
        <a class="nav-linkRun" data-toggle="mdl" data-target="runModal" data-tooltip="Run Report" data-runurl="@Model.Report.RunReportUrl">
            <svg viewBox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z" /></svg>
        </a>
    }
    else if (@Model.Report.RunReportUrl != null)
    {
<a class="nav-linkRun" target="_blank" data-tooltip="Run Report" href="@Model.Report.RunReportUrl">
    <svg viewBox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z" /></svg>
</a> }
                else
                {
                    if (@Model.Report.EpicMasterFile != null && @Model.Report.EpicMasterFile.Equals("IDB"))
                    {
<a class="nav-link nav-linkDisabled" data-tooltip="Open a related dashboard that uses this.">
    <svg viewBox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z" /></svg>
</a> }
                    else if (@Model.Report.EditReportUrl != null)
                    {
<a class="nav-link nav-linkDisabled" data-tooltip="Open in report library.">
    <svg viewBox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z" /></svg>
</a> }
                    else if (@Model.Report.EpicMasterFile != null)
                    {
<a class="nav-link nav-linkDisabled" data-tooltip="Run from the Hyperspace report library.">
    <svg viewBox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z" /></svg>
</a>}
                }

    <a class="nav-link @Html.Raw((@Model.Report.Favorite=="yes") ? "favorite" : "")" data-tooltip="@Html.Raw((@Model.Report.Favorite=="yes") ? "Remove from Favorites" : "Add to Favorites")" fav-type="report" object-id="@Model.Report.Id">
        <svg viewBox="0 0 576 512" xmlns="http://www.w3.org/2000/svg"><path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z" /></svg>
    </a>

    <a class="nav-link" data-tooltip="Share" data-toggle="mdl" data-target="shareModal" data-type="report" data-name='@Model.Report.Name.Replace("_"," ")' data-url="/Reports?id=@Model.Report.Id">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z" /></svg>
    </a>
    <a class="nav-link" data-tooltip="Request Access" data-toggle="mdl" data-target="requestAccessModal" data-name="@Model.Report.Name" data-name-clean='@Model.Report.Name.Replace("_"," ")'>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M256 48c114.953 0 208 93.029 208 208 0 114.953-93.029 208-208 208-114.953 0-208-93.029-208-208 0-114.953 93.029-208 208-208m0-40C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 56C149.961 64 64 149.961 64 256s85.961 192 192 192 192-85.961 192-192S362.039 64 256 64zm0 44c19.882 0 36 16.118 36 36s-16.118 36-36 36-36-16.118-36-36 16.118-36 36-36zm117.741 98.023c-28.712 6.779-55.511 12.748-82.14 15.807.851 101.023 12.306 123.052 25.037 155.621 3.617 9.26-.957 19.698-10.217 23.315-9.261 3.617-19.699-.957-23.316-10.217-8.705-22.308-17.086-40.636-22.261-78.549h-9.686c-5.167 37.851-13.534 56.208-22.262 78.549-3.615 9.255-14.05 13.836-23.315 10.217-9.26-3.617-13.834-14.056-10.217-23.315 12.713-32.541 24.185-54.541 25.037-155.621-26.629-3.058-53.428-9.027-82.141-15.807-8.6-2.031-13.926-10.648-11.895-19.249s10.647-13.926 19.249-11.895c96.686 22.829 124.283 22.783 220.775 0 8.599-2.03 17.218 3.294 19.249 11.895 2.029 8.601-3.297 17.219-11.897 19.249z" /></svg>
    </a>
    <a class="nav-link" data-tooltip="Share Feedback" data-toggle="mdl" data-target="shareFeedback" data-name="@Model.Report.Name">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M466.27 286.69C475.04 271.84 480 256 480 236.85c0-44.015-37.218-85.58-85.82-85.58H357.7c4.92-12.81 8.85-28.13 8.85-46.54C366.55 31.936 328.86 0 271.28 0c-61.607 0-58.093 94.933-71.76 108.6-22.747 22.747-49.615 66.447-68.76 83.4H32c-17.673 0-32 14.327-32 32v240c0 17.673 14.327 32 32 32h64c14.893 0 27.408-10.174 30.978-23.95 44.509 1.001 75.06 39.94 177.802 39.94 7.22 0 15.22.01 22.22.01 77.117 0 111.986-39.423 112.94-95.33 13.319-18.425 20.299-43.122 17.34-66.99 9.854-18.452 13.664-40.343 8.99-62.99zm-61.75 53.83c12.56 21.13 1.26 49.41-13.94 57.57 7.7 48.78-17.608 65.9-53.12 65.9h-37.82c-71.639 0-118.029-37.82-171.64-37.82V240h10.92c28.36 0 67.98-70.89 94.54-97.46 28.36-28.36 18.91-75.63 37.82-94.54 47.27 0 47.27 32.98 47.27 56.73 0 39.17-28.36 56.72-28.36 94.54h103.99c21.11 0 37.73 18.91 37.82 37.82.09 18.9-12.82 37.81-22.27 37.81 13.489 14.555 16.371 45.236-5.21 65.62zM88 432c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z" /></svg>
    </a>

    @if (Model.Permissions.Contains(38) && Model.Report.EditReportUrl != null)
    {
<a class="nav-link" data-tooltip="Open Report Editor" target="_blank" href="@Model.Report.EditReportUrl">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M448 80v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h352c26.51 0 48 21.49 48 48zm-88 16H248.029c-21.313 0-32.08 25.861-16.971 40.971l31.984 31.987L67.515 364.485c-4.686 4.686-4.686 12.284 0 16.971l31.029 31.029c4.687 4.686 12.285 4.686 16.971 0l195.526-195.526 31.988 31.991C358.058 263.977 384 253.425 384 231.979V120c0-13.255-10.745-24-24-24z" /></svg>
</a>}
    @if (Model.Permissions.Contains(38) && Model.Report.ManageReportUrl != null)
    {<!-- manage ssrs report -->
                    <a class="nav-link" data-tooltip="Manage Report" rel="noopener" target="_blank" href="@Model.Report.ManageReportUrl">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path d="M512.1 191l-8.2 14.3c-3 5.3-9.4 7.5-15.1 5.4-11.8-4.4-22.6-10.7-32.1-18.6-4.6-3.8-5.8-10.5-2.8-15.7l8.2-14.3c-6.9-8-12.3-17.3-15.9-27.4h-16.5c-6 0-11.2-4.3-12.2-10.3-2-12-2.1-24.6 0-37.1 1-6 6.2-10.4 12.2-10.4h16.5c3.6-10.1 9-19.4 15.9-27.4l-8.2-14.3c-3-5.2-1.9-11.9 2.8-15.7 9.5-7.9 20.4-14.2 32.1-18.6 5.7-2.1 12.1.1 15.1 5.4l8.2 14.3c10.5-1.9 21.2-1.9 31.7 0L552 6.3c3-5.3 9.4-7.5 15.1-5.4 11.8 4.4 22.6 10.7 32.1 18.6 4.6 3.8 5.8 10.5 2.8 15.7l-8.2 14.3c6.9 8 12.3 17.3 15.9 27.4h16.5c6 0 11.2 4.3 12.2 10.3 2 12 2.1 24.6 0 37.1-1 6-6.2 10.4-12.2 10.4h-16.5c-3.6 10.1-9 19.4-15.9 27.4l8.2 14.3c3 5.2 1.9 11.9-2.8 15.7-9.5 7.9-20.4 14.2-32.1 18.6-5.7 2.1-12.1-.1-15.1-5.4l-8.2-14.3c-10.4 1.9-21.2 1.9-31.7 0zm-10.5-58.8c38.5 29.6 82.4-14.3 52.8-52.8-38.5-29.7-82.4 14.3-52.8 52.8zM386.3 286.1l33.7 16.8c10.1 5.8 14.5 18.1 10.5 29.1-8.9 24.2-26.4 46.4-42.6 65.8-7.4 8.9-20.2 11.1-30.3 5.3l-29.1-16.8c-16 13.7-34.6 24.6-54.9 31.7v33.6c0 11.6-8.3 21.6-19.7 23.6-24.6 4.2-50.4 4.4-75.9 0-11.5-2-20-11.9-20-23.6V418c-20.3-7.2-38.9-18-54.9-31.7L74 403c-10 5.8-22.9 3.6-30.3-5.3-16.2-19.4-33.3-41.6-42.2-65.7-4-10.9.4-23.2 10.5-29.1l33.3-16.8c-3.9-20.9-3.9-42.4 0-63.4L12 205.8c-10.1-5.8-14.6-18.1-10.5-29 8.9-24.2 26-46.4 42.2-65.8 7.4-8.9 20.2-11.1 30.3-5.3l29.1 16.8c16-13.7 34.6-24.6 54.9-31.7V57.1c0-11.5 8.2-21.5 19.6-23.5 24.6-4.2 50.5-4.4 76-.1 11.5 2 20 11.9 20 23.6v33.6c20.3 7.2 38.9 18 54.9 31.7l29.1-16.8c10-5.8 22.9-3.6 30.3 5.3 16.2 19.4 33.2 41.6 42.1 65.8 4 10.9.1 23.2-10 29.1l-33.7 16.8c3.9 21 3.9 42.5 0 63.5zm-117.6 21.1c59.2-77-28.7-164.9-105.7-105.7-59.2 77 28.7 164.9 105.7 105.7zm243.4 182.7l-8.2 14.3c-3 5.3-9.4 7.5-15.1 5.4-11.8-4.4-22.6-10.7-32.1-18.6-4.6-3.8-5.8-10.5-2.8-15.7l8.2-14.3c-6.9-8-12.3-17.3-15.9-27.4h-16.5c-6 0-11.2-4.3-12.2-10.3-2-12-2.1-24.6 0-37.1 1-6 6.2-10.4 12.2-10.4h16.5c3.6-10.1 9-19.4 15.9-27.4l-8.2-14.3c-3-5.2-1.9-11.9 2.8-15.7 9.5-7.9 20.4-14.2 32.1-18.6 5.7-2.1 12.1.1 15.1 5.4l8.2 14.3c10.5-1.9 21.2-1.9 31.7 0l8.2-14.3c3-5.3 9.4-7.5 15.1-5.4 11.8 4.4 22.6 10.7 32.1 18.6 4.6 3.8 5.8 10.5 2.8 15.7l-8.2 14.3c6.9 8 12.3 17.3 15.9 27.4h16.5c6 0 11.2 4.3 12.2 10.3 2 12 2.1 24.6 0 37.1-1 6-6.2 10.4-12.2 10.4h-16.5c-3.6 10.1-9 19.4-15.9 27.4l8.2 14.3c3 5.2 1.9 11.9-2.8 15.7-9.5 7.9-20.4 14.2-32.1 18.6-5.7 2.1-12.1-.1-15.1-5.4l-8.2-14.3c-10.4 1.9-21.2 1.9-31.7 0zM501.6 431c38.5 29.6 82.4-14.3 52.8-52.8-38.5-29.6-82.4 14.3-52.8 52.8z" /></svg>
                    </a>}
}

<div class="pageTitle">
    <h2 class="pageTitle-head">
        <span>
            @if (Model.Report.EpicReleased == "Analytics Certified")
            {<span data-tooltip="This report has received the highest level of scrutiny from the Analytics Team and the owning end user. Certified reports are the most reliable and accurate in the system." class="pageNav-badgeHunterGreen tt-bottom">@Model.Report.EpicReleased</span>}
        else if (Model.Report.EpicReleased == "Analytics Reviewed")
        {<span data-tooltip="This report has gone through the standard Analytics code review and validation process. Reviewed reports can be trusted for monitoring most operational processes." class="pageNav-badgeGreen tt-bottom">@Model.Report.EpicReleased</span>}
    else if (Model.Report.EpicReleased == "Epic Released")
    {<span data-tooltip="Epic Released Reports are limited to the standard Epic configuration. They cannot be customized to match Riverside’s unique system build and may not always be accurate. Use with caution." class="pageNav-badgeOrange tt-bottom">@Model.Report.EpicReleased</span>}
else if (Model.Report.EpicReleased == "Legacy")
{<span data-tooltip="This report has not been validated by the Analytics team for accuracy and reliability. Use with caution." class="pageNav-badgeOrange tt-bottom">@Model.Report.EpicReleased</span>}
else if (Model.Report.EpicReleased == "Self-Service")
{<span data-tooltip="Data has been validated but content produced via self-service is the responsibility of the end user." class="pageNav-badgeBlue tt-bottom">@Model.Report.EpicReleased</span>}
else
{<span data-tooltip="This report has not been validated by the Analytics Team and does not have a usage track record. It may display inaccurate or misleading information. Use at your own risk." class="pageNav-badgeRed tt-bottom">@Model.Report.EpicReleased</span>}

        @Model.Report.Name.Replace("_", " ")
    </span>
</h2>
@if (Model.Permissions.Contains(12))
{
<div data-ajax="yes" class="no-loader" data-url="/reports?Handler=MaintStatus&id=@Model.Report.Id"></div>}
<div class="pageNav">
    @if (imgs)
    {
<a href="#images" class="pageNav-link">Images</a>}

    @if (Model.Report.Description != null || Model.Report.DeveloperDescription != null || Model.Report.KeyAssumptions != null || Model.Report.SystemDescription != null)
    {
<a href="#description" class="pageNav-link">Description</a>}

    @if (terms)
    {
<a href="#terms" class="pageNav-link">Terms</a>}

    <a href="#details" class="pageNav-link">Details</a>

    @if (query)
    {
<a href="#query" class="pageNav-link">Query</a>}

    @if (parents || children || groups || collections)
    {
<a href="#relationships" class="pageNav-link">Relationships</a>}

    @if (maintlog)
    {
<a href="#maintenance" class="pageNav-link">Maintenance</a>}

    <a href="#comments" class="pageNav-link">Comments</a>
</div>
</div>

<section class="pageSection">
    <span class="location" id="images"></span>
    <div id="report-image-container">
        @if (imgs)
        {
<partial name="_Images" />}
    </div>
</section>

<section class="pageSection">
    <span class="location" id="description"></span>
    <div id="report-description-container">
        @if (Model.Report.Description != null || Model.Report.DeveloperDescription != null || Model.Report.KeyAssumptions != null || Model.Report.SystemDescription != null)
        {
<partial name="_Description" />}
    </div>
</section>

<section class="pageSection">
    <span class="location" id="terms"></span>
    <div id="report-terms-container">
        @if (terms)
        {
<partial name="_Terms" />}
    </div>
</section>

<section class="pageSection">
    <span class="location" id="details"></span>
    <div id="report-details-container">
        <partial name="_Details" />
    </div>
</section>

@if (query)
{
<section class="pageSection">
    <span class="location" id="query"></span>
    <partial name="_Query">
</section>}

@if (parents || children || groups || collections)
{
<section class="pageSection">
    <span class="location" id="relationships"></span>
    <partial name="_Relationships">
</section>}


<section class="pageSection">
    <span class="location" id="maintenance"></span>
    <div id="report-maintenance-container">
        @if (maintlog)
        {
<partial name="_Maintenance" />}
    </div>
</section>

<section class="pageSection">
    <span class="location" id="comments"></span>
    <div class="comments" data-ajax="yes" data-url="/reports?Handler=Comments&id=@Model.Report.Id"></div>
</section>


@if (Model.Permissions.Contains(12))
{
<partial name="_Edit" />}


<div class="mdl" id="runModal" tabindex="-1">
    <div class="mdl-d">
        <div class="mdl-c">
            <div class="mdl-h">
                <button type="button" class="close" data-dismiss="mdl">&times;</button>
                <h2>Run This Report</h2>
            </div>
            <div class="mdl-b content">
                <p>
                    This is a Crystal Report. Here are the recent run outputs.
                    
                    @if (@Model.Report.RunReportUrl != null && @Model.Report.RunReportUrl != ""){
                    <div><a href="@Model.Report.RunReportUrl" target="_blank" rel="noopener">Run Directly</a></div>
                    }


                    <ul>
                        @foreach (var r in Model.Report.CyrstalRunAttachments)
                        {
                            var url = Helpers.HtmlHelpers.IsEpic(HttpContext) ? "EpicAct:AC_RW_WEB_BROWSER,LaunchOptions:2,runparams:" + HttpContext.Request.Scheme + "://" + HttpContext.Request.Host.Value + "/Data/File?handler=CrystalRun&id=" + r.ReportObjectAttachmentId + "|FormCaption=" + r.Name + "|ActivityName=" + Model.Report.Name : "/Data/File?handler=CrystalRun&id=" + r.ReportObjectAttachmentId;
                <li><a href="@url" target="_blank">@r.Name</a><span> ·  @r.CreationDate</span></li>
}
                    </ul>
                </p>
            <p>
                If you need a <strong>newer</strong> dataset request a new run from the Report Library.
                              <ol>
                                  <li>Open the Report Library</li>
                                  <li>Search for this report</li>
                                  <li>Click "view" > click "Request"</li>
                              </ol>
            </p>
            <p>
                ~ after 5 minutes ~
                <ol>
                    <li>Open My Reports</li>
                    <li>In the lower section of the screen you will find the report listed</li>
                    <li>Click "View Output"</li>
                </ol>
            </p>
            </div>
        </div>
    </div>
</div>

<partial name="modals\_reportProfile" />

@section js {
    <textarea class="postLoadScripts">
    <script src="/js/flowchart.min.js" async></script>@if(!Request.Headers["User-Agent"].ToString().Contains("Trident")){<script>hljs.highlightAll();</script>}@if (ViewBag.Permissions.Contains(12)){<script src="/js/editor.min.js" async></script><script src="/js/report-editor.min.js" async></script>}
    </textarea>

}
@section startJs {
    <script async src="/js/profile.min.js" inline></script>
}
